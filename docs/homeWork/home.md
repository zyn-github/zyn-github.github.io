# npm

#### 一、package.json 来实现文件瘦身
```text
 1、.npmignore 这个文件里面添加npm忽略的文件，这个时候在npm install 的时候就不会下载该文件中配置的内容。
 2、package.json中的，files: [],数组里面指定需要下载的文件
```

#### 二、npm和npx的联系与区别
```text
一、简介
   npx是从npm v5.2.0开始新增的命令，大于上述所说的版本会自动安装npx,如果不能使用可以手动安装一下。
二、作用
   众所周知，npm是用来管理，三方包的下载、上传、删除、管理依赖，等操作的功能，npx可以快捷执行管理包中提供的二进制模块的命令，让内部模块使用起来更加的方便

   eg： 执行执行当前项目下面的，node_modules的命令需要， ./node_modules/.bin/webpack -v,使用npx直接执行,npx webpack -v
 三、注意
 当执行 $ npx <command> 相关命令的时候，npx 会先本地找（可以是项目中的也可以是本机的）寻找这个 command。
      找到了：就用本地的版本
      没找到：直接下载最新版本（这里是在缓存里），完成命令要求
      使用完之后就会完全清除，不会在本机或项目留下任何东西
      这样就不会污染本机、永远使用最新版本的 dependency  

 另外，使用 npx 可以避免全局安装模块，比如：create-react-app 这个模块是全局安装，npx 可以运行它，而且不进行全局安装。

 利用 npx 指定 node 版本运行脚本。

    $ npx node@14.15.0 -v
     上面命令会使用 v14.15.0 版本的 node 执行脚本。原理是从 npm 下载这个版本的 node，使用后再删掉。
     在某些场景下，这个方法用来切换 node 版本，要比 nvm 那样的版本管理器方便一些。     
```

#### 三、 npm version 使用总结
```text
一、npm 版本号控制 (major | minor | patch | premajor | preminor | prepatch | prerelease)
    Tips：package.json中的版本号格式为 大号.中号.小号-预发布号
    1、major 
       1.1、如果没有预发布号，则直接升级一位大号，其他位都置为0
       1.2、如果存在预发布号，中号和小号都为0，则不升级大号，而将预发布号删掉 2.0.0-1变成2.0.0
       1.3、如果存在预发布号，中号和小号任意一个不为0，升级大号，清空其他位为0 2.0.1-0变成3.0.0
    2、minor
       2.1、如果没有预发布号，则升级一位中号，大号不动，小号置为空
       2.1、如果存在预发布号，如果小号为0，则不升级中号，将预发布号去掉
    3、patch
       3.1、如果没有预发布号：直接升级小号，去掉预发布号
       3.2、如果有预发布号：去掉预发布号，其他不动    
    4、premajor
       4.1、直接升级大号，中号和小号置为0，增加预发布号为0
    5、preminor
       5.1、直接升级中号，小号置为0，增加预发布号为0
    6、prepatch
       6.1、直接升级小号，增加预发布号为0
    7、prerelease
       7.1、如果没有预发布号：增加小号，增加预发布号为0
       7.2、如果有预发布号，则升级预发布号      
```
